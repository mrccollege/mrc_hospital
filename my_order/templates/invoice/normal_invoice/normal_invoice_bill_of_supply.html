<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="utf-8">
    <title>Bill Details</title>
    <link rel="stylesheet" href="/static/common_css/normal_bill_invoice.css" media="all"/>
    <style>
        /* General header styles */
        header {
            padding: 0px;
            border-bottom: 2px solid #000;
        }

        #logo {
            text-align: center;
            margin-bottom: 15px;
        }

        .header-container {
            display: grid;
            grid-template-columns: repeat(2, 1fr); /* Two equal columns */
            gap: 20px; /* Space between columns */
            width: 100%;
        }

        #company, #client {
            font-size: 14px;
            line-height: 1.6;
        }

        #company div, #client div {
            margin-bottom: 5px; /* Adds spacing between rows */
        }

        /* Responsive Design */
        @media (max-width: 768px) {
            .header-container {
                grid-template-columns: 1fr; /* Single-column layout on smaller screens */
            }

            #logo img {
                width: 150px; /* Adjust logo size for smaller screens */
            }
        }

        @media (max-width: 480px) {
            h1 {
                font-size: 18px;
            }
        }
    </style>
    <script src="https://code.jquery.com/jquery-3.6.0.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/html2pdf.js/0.9.3/html2pdf.bundle.min.js"></script>
</head>
<body>

<div class="row">
    <button id="download-pdf">Download Invoice</button>
    <button id="download-address">Download Address</button>
</div>

<div id="pdf-content">
    <header class="clearfix" id="pdf2-content">
        <div id="logo">
            <img src="/static/logo/bill_logo/W1.png" alt="Company Logo">
        </div>
        <div><h1>Mrc Ayurveda & research center</h1></div>
        <hr>
        <div class="header-container">
            <div id="company">

                <div>Vrindavan (Mathura)</div>
                <div>Phone: 741 774 17 74</div>
                <div>Email: <a href="mailto:mrcayurveda@.com">mrcayurveda@.com</a></div>
                <div>GSTIN: 09BRLPS1327P1Z1</div>
                <div>Account No: 4903002100000522</div>
            </div>
            <div id="client">
                <div><strong>Client:</strong> {{user.doctor.user.username}}</div>
                <div><strong>Mobile:</strong> {{user.doctor.user.mobile}}</div>
                <div><strong>Address:</strong> {{user.doctor.user.district}}, {{user.doctor.user.state}}</div>
                <div><strong>Email:</strong> {{user.doctor.user.email}}</div>
                <div><strong>Date:</strong> {{user.created_at}}</div>
            </div>
        </div>
    </header>
    <main>
        <table>
            <thead>
            <tr>
                <th>Medicine Name</th>
                <th>Sell Qty</th>
                <th>Mrp.</th>
                <th>Disc.%</th>
                <th>S.Rate.</th>
                <th>Amount</th>
            </tr>
            </thead>
            <tbody>
            {% for i in medicine %}
            <tr>
                <td>{{i.medicine}}</td>
                <td>{{i.sell_qty}}</td>
                <td>{{i.mrp}}</td>
                <td>{{i.discount}}</td>
                <td>{{i.sale_rate}}</td>
                <td>{{i.amount}}</td>
            </tr>
            {% endfor %}
            <tr>
                <td colspan="5" class="grand total">Sub Total Rs.</td>
                <td>{{user.subtotal}}</td>
            </tr>
            <tr>
                <td colspan="3">Disc. {{user.discount}} %</td>
                <td colspan="2">Shipping and packing Rs.</td>
                <td colspan="2">{{user.shipping}}</td>
            </tr>
            <tr>
                <td colspan="5" class="grand total">Grand Total Rs.</td>
                <td>{{user.old_credit}}</td>
            </tr>
            </tbody>
        </table>
    </main>
    <footer>
        Invoice was created on a computer and is valid without the signature and seal.
    </footer>
</div>

<script>
    $('#download-pdf').on('click', function () {
        const element = document.getElementById('pdf-content');
        const options = {
            margin: [10, 10, 10, 10],
            filename: 'bill-details.pdf',
            image: { type: 'jpeg', quality: 0.98 },
            html2canvas: { scale: 2 },
            jsPDF: { unit: 'mm', format: 'a4', orientation: 'portrait' }
        };
        html2pdf().set(options).from(element).save();
    });


    $('#download-address').on('click', function () {
        const element = document.getElementById('pdf2-content');
        const options = {
            margin: [10, 10, 10, 10],
            filename: 'bill-details.pdf',
            image: { type: 'jpeg', quality: 0.98 },
            html2canvas: { scale: 2 },
            jsPDF: { unit: 'mm', format: 'a4', orientation: 'portrait' }
        };
        html2pdf().set(options).from(element).save();
    });
</script>
</body>
</html>

