<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="utf-8">
    <title>Bill Details</title>
    <link rel="stylesheet" href="/static/common_css/normal_bill_invoice.css" media="all"/>
    <style>
        /* General header styles */
        header {
            padding: 0px;
            border-bottom: 2px solid #000;
        }

        #logo {
            text-align: center;
            margin-bottom: 15px;
        }

        .header-container {
            display: grid;
            grid-template-columns: repeat(2, 1fr); /* Two equal columns */
            gap: 20px; /* Space between columns */
            width: 100%;

            display: flex;
            justify-content: space-between; /* Pushes items to the edges */
            align-items: center; /* Vertically centers the logos */
            width: 95%; /* Adjust as needed */
            padding: 10px; /* Optional padding */
        }

        #company, #client {
            font-size: 14px;
            line-height: 1.6;
        }

        #company div, #client div {
            margin-bottom: 5px; /* Adds spacing between rows */
        }

        /* Responsive Design */
        @media (max-width: 768px) {
            .header-container {
                grid-template-columns: 1fr; /* Single-column layout on smaller screens */
            }

            #logo img {
                width: 150px; /* Adjust logo size for smaller screens */
            }
        }

        @media (max-width: 480px) {
            h1 {
                font-size: 18px;
            }
        }

         #logo {
            display: flex;
            justify-content: space-between; /* Pushes items to the edges */
            align-items: center; /* Vertically centers the logos */
            width: 90%; /* Adjust as needed */
            padding: 10px; /* Optional padding */
        }

        .left-logo {
            max-width: 150px; /* Adjust the size of the left logo */
            height: auto;
        }

        .right-logo {
            max-width: 150px; /* Adjust the size of the right logo */
            height: auto;
        }
    </style>
    <script src="https://code.jquery.com/jquery-3.6.0.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/html2pdf.js/0.9.3/html2pdf.bundle.min.js"></script>
</head>
<body>

<div class="row">
    <button id="download-pdf">Download Invoice</button>
    <button id="download-address">Download Address</button>
</div>

<div id="pdf-content">
    <header class="clearfix" id="pdf2-content">
        <div id="logo">
            <img src="/static/logo/bill_logo/naturo.png" alt="Company Logo" class="left-logo">
            <img src="/static/logo/bill_logo/naturo.png" alt="Company Logo" class="right-logo">
        </div>
        <h4 style="text-align:center">(TAX INVOICE)</h4>
        <div><h4><span style="font-size:22px">M/s Mrc Naturocare</span> &nbsp; &nbsp;&nbsp; &nbsp;&nbsp; &nbsp; &nbsp; &nbsp;  &nbsp;&nbsp; &nbsp;  &nbsp; &nbsp;&nbsp; &nbsp;  &nbsp; &nbsp; &nbsp;  &nbsp; &nbsp;  &nbsp; &nbsp; &nbsp; Address: Vrindavan - Mathura pin: 281121</h4></div>

        <hr>
        <div class="header-container">
            <div id="client">
                <div><strong>Date:</strong> {{user.created_at}}</div>
                <div><strong>Invoice No:</strong> {{user.invoice_number}}</div>
                <div><strong>Client:</strong> {{user.doctor.user.username}}</div>
                <div><strong>Mobile:</strong> {{user.doctor.user.mobile}}</div>
                <div><strong>Address:</strong> {{user.doctor.user.district}}, {{user.doctor.user.state}}</div>
                <div><strong>Email:</strong> {{user.doctor.user.email}}</div>
                <div><strong>GST :</strong> Unregistered</div>
            </div>
            <div id="company">
                <div>Phone: 7417 7417 74</div>
                <div>Email: <a href="mailto:mrcayurvedacenter@gamail.com">mrcayurvedacenter@gamail.com</a></div>
                <div>GSTIN: 09BRLPS1328C1ZR</div>
                <div>Bank Name: Punjab National Bank</div>
                <div>Account No: 4902002100001830</div>
                <div>IFSC CODE: PUNB00463000</div>
            </div>

        </div>
    </header>
    <main>
        <table>
            <thead>
            <tr>
                <th>Medicine Name</th>
                <th>Qty</th>
                <th>MRP.</th>
                <th>Disc.%</th>
                <th>S.Rate.</th>
                <th>Hsn</th>
                <th>GST%</th>
                <th>Taxable Amount</th>
                <th>Tax</th>
                <th>Amount</th>
            </tr>
            </thead>
            <tbody>
            {% for i in medicine %}
            <tr>
                <td>{{i.medicine}}</td>
                <td>{{i.sell_qty}}</td>
                <td>{{i.mrp}}</td>
                <td>{{i.discount}}</td>
                <td>{{i.sale_rate}}</td>
                <td>{{i.hsn}}</td>
                <td>{{i.gst}}</td>
                <td>{{i.taxable_amount}}</td>
                <td>{{i.tax}}</td>
                <td>{{i.amount}}</td>
            </tr>
            {% endfor %}
            <tr>
                <td colspan="9" class="grand total">Sub Total Rs.</td>
                <td>{{user.subtotal}}</td>
            </tr>
            <tr>
                <td colspan="3">Disc. {{user.discount}} %</td>
                <td colspan="2">SGST {{user.sgst}}</td>
                <td colspan="2">CGST {{user.cgst}}</td>
                <td colspan="2">Shipping and packing Rs.</td>
                <td colspan="2">{{user.shipping}}</td>
            </tr>
            <tr>
                <td colspan="9" class="grand total">Grand Total Rs.</td>
                <td>{{user.old_credit}}</td>
            </tr>
            </tbody>
        </table>
    </main>
    <footer>
        Invoice was created on a computer and is valid without the signature and seal.
    </footer>
</div>

<script>
    $('#download-pdf').on('click', function () {
        const element = document.getElementById('pdf-content');
        const options = {
            margin: [10, 10, 10, 10],
            filename: 'bill-details.pdf',
            image: { type: 'jpeg', quality: 0.98 },
            html2canvas: { scale: 2 },
            jsPDF: { unit: 'mm', format: 'a4', orientation: 'portrait' }
        };
        html2pdf().set(options).from(element).save();
    });


    $('#download-address').on('click', function () {
        const element = document.getElementById('pdf2-content');
        const options = {
            margin: [10, 10, 10, 10],
            filename: 'bill-details.pdf',
            image: { type: 'jpeg', quality: 0.98 },
            html2canvas: { scale: 2 },
            jsPDF: { unit: 'mm', format: 'a4', orientation: 'portrait' }
        };
        html2pdf().set(options).from(element).save();
    });
</script>
</body>
</html>
